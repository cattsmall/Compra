<!doctype html>
<html lang="en" ng-app="listApp">
	<head>
		<meta charset="utf-8">
		<title>Compra - a shopping list app</title>
		<meta name="description">
		<link rel="stylesheet" href="lib/stylesheets/app.css">
	  <script src="lib/scripts/angular.min.js"></script>
	  <script src="lib/scripts/controllers.js"></script>
	  <script src="lib/scripts/services.js"></script>
	</head>
	<body ng-controller="listCtrl">
		<header ng-class="{hidden: !showIntroScreen, visible: showIntroScreen}" class="app-intro">
      <div class="container">
  			<h1>Compra</h1>
  			<h2>A shopping list that helps you budget</h2>
      </div>
		</header>
		<section class="container list-area" ng-if="!showIntroScreen">
			<section class="add-new-item">
				<button class="btn btn-primary" ng-show="!addItem" ng-click="addItem = true; setCurrency(newItem);">
					<i class="ss-icon ss-standard">&#x002B;</i>
					Add to your list
				</button>
				<button class="btn btn-danger" ng-show="addItem" ng-click="addItem = false">
					<i class="ss-icon ss-standard">&#x2421;</i>
					Cancel
				</button>
        <div ng-class="{slideup: !addItem, slidedown: addItem}">
  				<form novalidate name="addForm">
  					<label>What do you want to buy?</label>
  					<input type="text" required placeholder="Enter the item's name" ng-model="newItem.name">
					
  					<fieldset>
  						<legend>How much do you want to spend?</legend>
  						<div class="half minimum-price">
  							<label>Min:</label>
  							<select ng-model="newItem.currency" ng-change="setCurrency(newItem);">
  								<option value="USD">$</option>
  								<option value="GBP">£</option>
  								<option value="EUR">€</option>
  								<option value="JPY">¥</option>
  							</select>
  							<input type="number" required placeholder="Minimum price ({{newItem.currencySign}})" ng-model="newItem.minPrice">
  						</div>
  						<div class="half">
  							<label>Max:</label>
  							<input type="number" required min="{{newItem.minPrice}}" placeholder="Maximum price ({{newItem.currencySign}})" ng-model="newItem.maxPrice">
  						</div>
  					</fieldset>
  					<button class="btn" ng-disabled="addForm.$invalid" ng-click="addToList(newItem); addItem = false; addForm.$setPristine();">
              <span ng-if="addForm.$invalid">
    						Fill out the above first
              </span>
              <span ng-if="!addForm.$invalid">
    						<i class="ss-icon ss-standard">&#x2713;</i>
    						Save to list
              </span>
  					</button>
  				</form>
        </div>
			</section>
      
			<aside class="items-total-cost">
				<h4>Total amount you'll spend:</h4>
				<input type="text" disabled value="{{defaultCurrencySign}}{{totalMinPrice}} - {{defaultCurrencySign}}{{totalMaxPrice}}">
			</aside>
      <section class="editable-list-area">
  			<h4>You want to buy:</h4>
  			<ul class="editable-list">
  				<li ng-repeat="item in wantedItems" ng-class="{bought: item.bought, deleted: item.toRemove}">
            <div class="checkbox-toggle" ng-click="toggleBought(item);" ng-class="{selected: item.bought}"></div>
  					<h3>{{item.name}}</h3>
  					<p class="price-range">{{item.currencySign}}{{item.minPrice}} - {{item.currencySign}}{{item.maxPrice}}</p>
  				</li>
          <li class="empty-list" ng-if="boughtItems == 0 && wantedItems.length == 0">
     				<i class="ss-icon ss-standard">&#x1F4A7;</i>
            <p>Nothing is on your list yet. Click the button above to add your first item!</p>
          </li>
  			</ul>
      </section>
      
			<button class="btn btn-danger" ng-show="boughtItems > 0" ng-class="{hidden: wantedItems.length == 0}" ng-click="clearBoughtItems();">
				<i class="ss-icon ss-standard">&#xE0D0;</i>
				Remove purchased items
			</button>
		</section>
	</body>
</html>